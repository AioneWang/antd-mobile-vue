(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2e84030a"],{"09f5":function(t,e){t.exports='<h1 id="图片选择器--image-picker">图片选择器  image-picker</h1>\n'},"239c":function(t,e,n){"use strict";n("658b"),n("5f3d")},"268f":function(t,e,n){t.exports=n("fde4")},"29b8":function(t,e){t.exports="<table>\n<thead>\n<tr>\n<th>属性</th>\n<th>说明</th>\n<th>类型</th>\n<th>默认值</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>accept</td>\n<td></td>\n<td>string</td>\n<td></td>\n</tr>\n<tr>\n<td>length</td>\n<td></td>\n<td>number | string</td>\n<td>4</td>\n</tr>\n<tr>\n<td>multiple</td>\n<td></td>\n<td>boolean</td>\n<td>false</td>\n</tr>\n<tr>\n<td>prefixCls</td>\n<td></td>\n<td>string</td>\n<td></td>\n</tr>\n<tr>\n<td>selectable</td>\n<td></td>\n<td>boolean</td>\n<td>true</td>\n</tr>\n<tr>\n<td>value</td>\n<td></td>\n<td>Array&lt;{}&gt;</td>\n<td></td>\n</tr>\n</tbody></table>\n"},"5d6b":function(t,e,n){var a=n("e53d").parseInt,r=n("a1ce").trim,c=n("e692"),i=/^[-+]?0[xX]/;t.exports=8!==a(c+"08")||22!==a(c+"0x16")?function(t,e){var n=r(String(t),3);return a(n,e>>>0||(i.test(n)?16:10))}:a},"5df3":function(t,e,n){"use strict";var a=n("02f4")(!0);n("01f9")(String,"String",function(t){this._t=String(t),this._i=0},function(){var t,e=this._t,n=this._i;return n>=e.length?{value:void 0,done:!0}:(t=a(e,n),this._i+=t.length,{value:t,done:!1})})},"5f3d":function(t,e,n){},"720c":function(t,e,n){"use strict";var a=n("7b7d"),r=n.n(a);r.a},7445:function(t,e,n){var a=n("63b6"),r=n("5d6b");a(a.G+a.F*(parseInt!=r),{parseInt:r})},"795b":function(t,e,n){t.exports=n("696e")},"7b7d":function(t,e,n){},8346:function(t,e,n){"use strict";var a=n("e814"),r=n.n(a),c=n("795b"),i=n.n(c),o=(n("cadf"),n("5df3"),n("ac6a"),n("d225")),l=n("b0b4"),s=n("308d"),d=n("6bb5"),u=n("4e2b"),b=n("9ab4"),f=n("4d26"),p=n.n(f),v=n("8bbf"),g=n.n(v),h=n("65d9"),m=n.n(h),j=n("60a3"),O=n("b428"),y=n("d5e7");var k=function(t){function e(){return Object(o["a"])(this,e),Object(s["a"])(this,Object(d["a"])(e).apply(this,arguments))}return Object(u["a"])(e,t),Object(l["a"])(e,[{key:"getOrientation",value:function(t,e){var n=new FileReader;n.onload=function(t){var n=new DataView(t.target.result);if(65496!==n.getUint16(0,!1))return e(-2);var a=n.byteLength,r=2;while(r<a){var c=n.getUint16(r,!1);if(r+=2,65505===c){var i=n.getUint32(r+=2,!1);if(1165519206!==i)return e(-1);var o=18761===n.getUint16(r+=6,!1);r+=n.getUint32(r+4,o);var l=n.getUint16(r,o);r+=2;for(var s=0;s<l;s++)if(274===n.getUint16(r+12*s,o))return e(n.getUint16(r+12*s+8,o))}else{if(65280!==(65280&c))break;r+=n.getUint16(r,!1)}}return e(-1)},n.readAsArrayBuffer(t.slice(0,65536))}},{key:"getRotation",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,e=0;switch(t){case 3:e=180;break;case 6:e=90;break;case 8:e=270;break;default:}return e}},{key:"removeImage",value:function(t){var e=[],n=this.value,a=void 0===n?[]:n;a.forEach(function(n,a){t!==a&&e.push(n)}),this.$emit("input",e,"remove",t),this.$emit("change",e,"remove",t)}},{key:"addImage",value:function(t){console.log(t);var e=this.value,n=void 0===e?[]:e,a=n.concat(t);this.$emit("input",a,"add"),this.$emit("change",a,"add")}},{key:"onImageClick",value:function(t){this.$emit("click",this.value)}},{key:"onFileChange",value:function(){var t=this,e=this.fileSelectorInput;if(e&&e.files&&e.files.length){for(var n=e.files,a=[],r=0;r<n.length;r++)a.push(this.parseFile(n[r],r));i.a.all(a).then(function(e){return t.addImage(e)}).catch(function(e){t.$emit("fail",e)})}e&&(e.value="")}},{key:"parseFile",value:function(t,e){var n=this;return new i.a(function(a,r){var c=new FileReader;c.onload=function(c){var i=c.target.result;if(i){var o=1;n.getOrientation(t,function(e){e>0&&(o=e),a({url:i,orientation:o,file:t})})}else r("Fail to get the ".concat(e," image"))},c.readAsDataURL(t)})}},{key:"render",value:function(){var t=this,e=arguments[0],n=this.prefixCls,a=this.value,c=void 0===a?[]:a,i=this.selectable,o=this.multiple,l=this.accept,s=[],d=r()(""+this.length,10);d<=0&&(d=4);var u=p()("".concat(n));c.forEach(function(a,r){var c={backgroundImage:"url(".concat(a.url,")"),transform:"rotate(".concat(t.getRotation(a.orientation),"deg)")},i={};s.push(e(O["a"].Item,{key:"item-".concat(r),style:i},[e("div",{key:r,class:"".concat(n,"-item")},[e("div",{class:"".concat(n,"-item-remove"),attrs:{role:"button","aria-label":"Click and Remove this image"},on:{click:function(){t.removeImage(r)}}}),e("div",{class:"".concat(n,"-item-content"),attrs:{role:"button","aria-label":"Image can be clicked"},on:{click:function(){t.onImageClick(r)}},style:c})])]))});var b=e(O["a"].Item,{key:"select"},[e(y["a"],{attrs:{activeClassName:"".concat(n,"-upload-btn-active")}},[e("div",{class:"".concat(n,"-item ").concat(n,"-upload-btn"),on:{click:this.onImageClick},attrs:{role:"button","aria-label":"Choose and add image"}},[e("input",{ref:"fileSelectorInput",attrs:{type:"file",accept:l,multiple:o},on:{change:this.onFileChange}})])])]),f=i?s.concat([b]):s,v=f.length;if(0!==v&&v%d!==0){for(var g=d-v%d,h=[],m=0;m<g;m++)h.push(e(O["a"].Item,{key:"blank-".concat(m)}));f=f.concat(h)}for(var j=[],k=0;k<f.length/d;k++){var w=f.slice(k*d,k*d+d);j.push(w)}var x=j.map(function(t,n){return e(O["a"],{key:"flex-".concat(n)},[t])});return e("div",{class:u},[e("div",{class:"".concat(n,"-list"),attrs:{role:"group"}},[x])])}},{key:"fileSelectorInput",get:function(){return this.$refs.fileSelectorInput}}]),e}(g.a);b["b"]([Object(j["d"])({type:String,default:"am-image-picker"})],k.prototype,"prefixCls",void 0),b["b"]([Object(j["d"])({default:function(){return[]}})],k.prototype,"value",void 0),b["b"]([Object(j["d"])({type:Boolean,default:!0})],k.prototype,"selectable",void 0),b["b"]([Object(j["d"])({type:Boolean,default:!1})],k.prototype,"multiple",void 0),b["b"]([Object(j["d"])({type:String,default:"image/*"})],k.prototype,"accept",void 0),b["b"]([Object(j["d"])({default:4})],k.prototype,"length",void 0),k=b["b"]([m()({name:"ImagePicker"})],k);var w=k;n("239c"),n("658b"),n("d409");w.install=function(t){t.component("MImagePicker",w)};e["a"]=w},"92b0":function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{attrs:{id:"basic"}},[n("markdown",{attrs:{source:t.title}})],1),t._m(0),t._m(1),n("markdown",{attrs:{source:t.props}})],1)},r=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"markdown-body m-b",attrs:{id:"demo"}},[n("span"),n("h2",[t._v("示例代码")])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"markdown-body",attrs:{id:"props"}},[n("span"),n("h2",[t._v("属性说明")])])}],c=n("d225"),i=n("b0b4"),o=n("308d"),l=n("6bb5"),s=n("4e2b"),d=n("9ab4"),u=n("8bbf"),b=n.n(u),f=n("65d9"),p=n.n(f),v=n("8346"),g=n("09f5"),h=n.n(g),m=n("29b8"),j=n.n(m);b.a.use(v["a"]);var O=function(t){function e(){var t;return Object(c["a"])(this,e),t=Object(o["a"])(this,Object(l["a"])(e).apply(this,arguments)),t.title=h.a,t.props=j.a,t}return Object(s["a"])(e,t),Object(i["a"])(e,[{key:"getContainer",value:function(){return document.getElementById("app-content")}}]),e}(b.a);O=d["b"]([p()({name:"ComponentDemo"})],O);var y=O,k=y,w=(n("720c"),n("2877")),x=Object(w["a"])(k,a,r,!1,null,"231c0edd",null);e["default"]=x.exports},a1ce:function(t,e,n){var a=n("63b6"),r=n("25eb"),c=n("294c"),i=n("e692"),o="["+i+"]",l="​",s=RegExp("^"+o+o+"*"),d=RegExp(o+o+"*$"),u=function(t,e,n){var r={},o=c(function(){return!!i[t]()||l[t]()!=l}),s=r[t]=o?e(b):i[t];n&&(r[n]=s),a(a.P+a.F*o,"String",r)},b=u.trim=function(t,e){return t=String(r(t)),1&e&&(t=t.replace(s,"")),2&e&&(t=t.replace(d,"")),t};t.exports=u},b428:function(t,e,n){"use strict";var a=n("cebc"),r=n("bd86"),c=n("d225"),i=n("b0b4"),o=n("308d"),l=n("6bb5"),s=n("4e2b"),d=n("9ab4"),u=n("4d26"),b=n.n(u),f=n("8bbf"),p=n.n(f),v=n("65d9"),g=n.n(v),h=n("60a3"),m=function(t){function e(){return Object(c["a"])(this,e),Object(o["a"])(this,Object(l["a"])(e).apply(this,arguments))}return Object(s["a"])(e,t),Object(i["a"])(e,[{key:"render",value:function(){var t,e=arguments[0],n=this,c=n.direction,i=n.wrap,o=n.justify,l=n.align,s=n.alignContent,u=n.prefixCls,f=d["c"](n,["direction","wrap","justify","align","alignContent","prefixCls"]),p=b()(u,(t={},Object(r["a"])(t,"".concat(u,"-dir-row"),"row"===c),Object(r["a"])(t,"".concat(u,"-dir-row-reverse"),"row-reverse"===c),Object(r["a"])(t,"".concat(u,"-dir-column"),"column"===c),Object(r["a"])(t,"".concat(u,"-dir-column-reverse"),"column-reverse"===c),Object(r["a"])(t,"".concat(u,"-nowrap"),"nowrap"===i),Object(r["a"])(t,"".concat(u,"-wrap"),"wrap"===i),Object(r["a"])(t,"".concat(u,"-wrap-reverse"),"wrap-reverse"===i),Object(r["a"])(t,"".concat(u,"-justify-start"),"start"===o),Object(r["a"])(t,"".concat(u,"-justify-end"),"end"===o),Object(r["a"])(t,"".concat(u,"-justify-center"),"center"===o),Object(r["a"])(t,"".concat(u,"-justify-between"),"between"===o),Object(r["a"])(t,"".concat(u,"-justify-around"),"around"===o),Object(r["a"])(t,"".concat(u,"-align-start"),"start"===l),Object(r["a"])(t,"".concat(u,"-align-center"),"center"===l),Object(r["a"])(t,"".concat(u,"-align-end"),"end"===l),Object(r["a"])(t,"".concat(u,"-align-baseline"),"baseline"===l),Object(r["a"])(t,"".concat(u,"-align-stretch"),"stretch"===l),Object(r["a"])(t,"".concat(u,"-align-content-start"),"start"===s),Object(r["a"])(t,"".concat(u,"-align-content-end"),"end"===s),Object(r["a"])(t,"".concat(u,"-align-content-center"),"center"===s),Object(r["a"])(t,"".concat(u,"-align-content-between"),"between"===s),Object(r["a"])(t,"".concat(u,"-align-content-around"),"around"===s),Object(r["a"])(t,"".concat(u,"-align-content-stretch"),"stretch"===s),t));return e("div",{class:p,props:Object(a["a"])({},f)},[this.$slots.default])}}]),e}(p.a);d["b"]([Object(h["d"])(String)],m.prototype,"alignContent",void 0),d["b"]([Object(h["d"])({type:String,default:"am-flexbox"})],m.prototype,"prefixCls",void 0),d["b"]([Object(h["d"])(String)],m.prototype,"role",void 0),d["b"]([Object(h["d"])(String)],m.prototype,"direction",void 0),d["b"]([Object(h["d"])(String)],m.prototype,"wrap",void 0),d["b"]([Object(h["d"])(String)],m.prototype,"justify",void 0),d["b"]([Object(h["d"])({type:String,default:"center"})],m.prototype,"align",void 0),d["b"]([Object(h["d"])(Boolean)],m.prototype,"disabled",void 0),m=d["b"]([g()({name:"Flex"})],m);var j=m,O=function(t){function e(){return Object(c["a"])(this,e),Object(o["a"])(this,Object(l["a"])(e).apply(this,arguments))}return Object(s["a"])(e,t),Object(i["a"])(e,[{key:"render",value:function(){var t=arguments[0],e=this,n=e.prefixCls,r=d["c"](e,["prefixCls"]),c=b()("".concat(n,"-item"));return t("div",{class:c,props:Object(a["a"])({},r)},[this.$slots.default])}}]),e}(p.a);d["b"]([Object(h["d"])({type:Boolean,default:!1})],O.prototype,"disabled",void 0),d["b"]([Object(h["d"])({type:String,default:"am-flexbox"})],O.prototype,"prefixCls",void 0),O=d["b"]([g()({name:"FlexItem"})],O);var y=O;j.Item=y;var k=j,w=k;w.install=function(t){t.component("MFlex",k),t.component("MFlexItem",k.Item)};e["a"]=w},b9e9:function(t,e,n){n("7445"),t.exports=n("584a").parseInt},bf90:function(t,e,n){var a=n("36c3"),r=n("bf0b").f;n("ce7e")("getOwnPropertyDescriptor",function(){return function(t,e){return r(a(t),e)}})},cebc:function(t,e,n){"use strict";n.d(e,"a",function(){return d});var a=n("268f"),r=n.n(a),c=n("e265"),i=n.n(c),o=n("a4bb"),l=n.n(o),s=n("bd86");function d(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},a=l()(n);"function"===typeof i.a&&(a=a.concat(i()(n).filter(function(t){return r()(n,t).enumerable}))),a.forEach(function(e){Object(s["a"])(t,e,n[e])})}return t}},d409:function(t,e,n){},e265:function(t,e,n){t.exports=n("ed33")},e692:function(t,e){t.exports="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff"},e814:function(t,e,n){t.exports=n("b9e9")},ed33:function(t,e,n){n("014b"),t.exports=n("584a").Object.getOwnPropertySymbols},fde4:function(t,e,n){n("bf90");var a=n("584a").Object;t.exports=function(t,e){return a.getOwnPropertyDescriptor(t,e)}}}]);
//# sourceMappingURL=chunk-2e84030a.4495116e.js.map